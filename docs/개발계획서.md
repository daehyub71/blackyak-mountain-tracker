# 블랙야크 100대 명산 트래커 개발계획서

## 1. 프로젝트 개요

### 1.1 프로젝트명
**블랙야크 100대 명산 트래커** (Blackyak Mountain Tracker)

### 1.2 목적
블랙야크 100대 명산 챌린지 참여자들에게 산별 종합 정보를 제공하여 안전하고 효율적인 등산 계획 수립을 지원

### 1.3 타겟 사용자
- **Primary**: 블랙야크 100대 명산 챌린지 참여자
- **Secondary**: 일반 등산객 (향후 확장)

### 1.4 핵심 가치 제안 (Value Proposition)
1. **원스톱 정보**: 파편화된 등산 정보를 한 곳에서 제공
2. **시간별 코스 추천**: 가용 시간에 맞는 코스 선택 지원
3. **GPX 파일 제공**: 램블러/트랭글 앱과 호환되는 경로 파일
4. **진행률 트래킹**: 100대 명산 완등 현황 관리 (Phase 2)

---

## 2. 기능 명세

### 2.1 MVP (Phase 1) - 핵심 기능

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 산 목록 | 100대 명산 리스트 + 검색/필터 | P0 |
| 산 상세 | 기본 정보, 인증지, 의미 | P0 |
| 등산로 정보 | 코스별 들머리, 거리, 시간 | P0 |
| 시간별 필터 | 최단/2-3h/4-5h/5h+ 코스 분류 | P0 |
| 주차장 정보 | 위치, 요금, 수용량 | P1 |
| GPX 다운로드 | 코스별 GPX 파일 제공 | P1 |
| 반응형 UI | 모바일/데스크톱 대응 | P0 |

### 2.2 Phase 2 - 개인화

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 회원가입/로그인 | Supabase Auth (소셜 로그인) | P0 |
| 완등 기록 | 산별 완등 날짜/사진 저장 | P0 |
| 진행률 대시보드 | 100개 중 N개 완등 현황 | P0 |
| 통계 | 지역별/월별/난이도별 분석 | P1 |

### 2.3 Phase 3 - 부가 기능

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 날씨 정보 | 기상청 API 연동 | P1 |
| 대중교통 | 버스 노선/시간표 | P2 |
| 추천 장소 | 볼거리/맛집 | P2 |
| 지도 시각화 | Kakao Map 등산로 표시 | P1 |

### 2.4 Phase 4 - 커뮤니티

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 등산 후기 | 사용자 리뷰/평점 | P2 |
| 상태 제보 | 등산로 상태 실시간 공유 | P2 |
| 사진 갤러리 | 사용자 업로드 사진 | P3 |

---

## 3. 시스템 아키텍처

### 3.1 기술 스택

```
┌─────────────────────────────────────────────────────────────┐
│                        Frontend                              │
│  React 18 + TypeScript + Vite + Tailwind CSS                │
│  Zustand (상태관리) + TanStack Query (서버상태)              │
│  Kakao Map SDK (지도)                                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    Supabase (BaaS)                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │
│  │  PostgreSQL  │  │     Auth     │  │   Storage    │      │
│  │   + PostGIS  │  │  (소셜로그인) │  │  (이미지)    │      │
│  └──────────────┘  └──────────────┘  └──────────────┘      │
│  ┌──────────────┐  ┌──────────────┐                        │
│  │ Edge Funcs   │  │   Realtime   │                        │
│  │ (서버로직)    │  │  (선택적)    │                        │
│  └──────────────┘  └──────────────┘                        │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    External APIs                             │
│  기상청 API | Kakao Map API | 공공데이터포털                 │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 데이터 흐름

```
[데이터 수집]
   │
   ├── scripts/crawl_blackyak_100.py ──► data/raw/blackyak_100.json
   │
   ├── scripts/fetch_public_data_api.py ──► data/raw/mountains_api.json
   │
   └── 수동 입력 (등산로 상세) ──► Supabase DB
                                      │
                                      ▼
[Frontend]  ◄──── Supabase Client ────┘
```

---

## 4. 데이터베이스 설계

> 상세 스키마는 `docs/db_schema.md` 참조

### 4.1 핵심 테이블

```
mountains (산)
    └── trails (등산로)
           └── trail_points (GPX 좌표)
    └── certification_points (인증지)
    └── parking_lots (주차장)
    └── highlights (추천장소)

user_profiles (사용자)
    └── user_completions (완등기록)
           └── user_completion_photos (인증샷)
```

### 4.2 확장성 고려사항

- `mountains.category` 배열로 블랙야크100/산림청300/일반 분류
- PostGIS로 위치 기반 쿼리 지원
- RLS로 사용자별 데이터 접근 제어

---

## 5. UI/UX 와이어프레임

### 5.1 메인 페이지 (산 목록)

```
┌─────────────────────────────────────────────────────────┐
│  🏔️ 블랙야크 100대 명산                    [로그인]     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  [검색창: 산 이름으로 검색...]                          │
│                                                         │
│  필터: [전체 ▼] [지역 ▼] [난이도 ▼] [소요시간 ▼]       │
│                                                         │
│  ┌─────────────────┐  ┌─────────────────┐              │
│  │ 📍 설악산        │  │ 📍 지리산        │              │
│  │ 강원 속초/인제   │  │ 전북 남원        │              │
│  │ 1,708m          │  │ 1,915m          │              │
│  │ ⭐ 국립공원      │  │ ⭐ 국립공원      │              │
│  │                 │  │                 │              │
│  │ [상세보기]      │  │ [상세보기]      │              │
│  └─────────────────┘  └─────────────────┘              │
│                                                         │
│  ┌─────────────────┐  ┌─────────────────┐              │
│  │ 📍 북한산        │  │ 📍 팔공산        │              │
│  │ 서울 강북/도봉   │  │ 대구 동구        │              │
│  │ 836m            │  │ 1,193m          │              │
│  │                 │  │ 🆕 2023 지정     │              │
│  │ [상세보기]      │  │ [상세보기]      │              │
│  └─────────────────┘  └─────────────────┘              │
│                                                         │
│  [1] [2] [3] ... [10]  페이지네이션                    │
└─────────────────────────────────────────────────────────┘
```

### 5.2 산 상세 페이지

```
┌─────────────────────────────────────────────────────────┐
│  ← 목록    🏔️ 팔공산 (八公山)                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │              [산 대표 이미지]                   │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  📍 대구광역시 동구, 경상북도 군위군                    │
│  🏔️ 해발 1,193m                                        │
│  🏷️ 국립공원 (2023년 지정)                              │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  📖 소개                                                │
│  팔공산은 대구의 진산으로, 갓바위(관봉 석조여래좌상)로  │
│  유명합니다. 신라시대부터 불교 성지로...               │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  📍 블랙야크 인증지                                     │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 🎯 비로봉 정상석                                │   │
│  │    대구 동구 팔공산로 | 1,193m                  │   │
│  │    [지도보기]                                   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  🥾 등산 코스                                           │
│                                                         │
│  시간 필터: [전체] [최단] [2-3시간] [4-5시간] [5시간+]  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 갓바위 코스 (추천)                    ⏱️ 3시간  │   │
│  │ 들머리: 갓바위 주차장                           │   │
│  │ 거리: 5.2km | 난이도: 보통 | 상승고도: 450m     │   │
│  │                                                 │   │
│  │ [상세보기] [GPX 다운로드]                       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 동화사 코스                           ⏱️ 5시간  │   │
│  │ 들머리: 동화사 주차장                           │   │
│  │ 거리: 10.8km | 난이도: 어려움 | 상승고도: 800m  │   │
│  │                                                 │   │
│  │ [상세보기] [GPX 다운로드]                       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  🅿️ 주차장 정보                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 갓바위 공영주차장                               │   │
│  │ 📍 대구 동구 팔공산로 | 수용: 200대             │   │
│  │ 💰 소형 2,000원/일 | 🚻 화장실 있음             │   │
│  │ [길찾기]                                        │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  ⭐ 추천 장소                                           │
│  • 갓바위 (관봉 석조여래좌상) - 소원빌기 명소          │
│  • 동화사 - 통일대불, 비로암                           │
│  • 염불암 - 일출 명소                                  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 5.3 진행률 대시보드 (Phase 2)

```
┌─────────────────────────────────────────────────────────┐
│  🏔️ 내 등산 기록                          [홍길동] ▼   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │   블랙야크 100대 명산 챌린지                    │   │
│  │                                                 │   │
│  │         ████████████░░░░░░░░  42/100           │   │
│  │                                                 │   │
│  │   🏆 완등 42개 | 📅 마지막: 2024.01.15 팔공산  │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  📊 통계                                                │
│                                                         │
│  지역별                    월별 등산 횟수               │
│  ┌──────────────┐         ┌──────────────┐            │
│  │ 강원 ████ 12 │         │    ▂▃▅▇▅▃▂   │            │
│  │ 경북 ███  8  │         │ J F M A M J  │            │
│  │ 전북 ██   5  │         └──────────────┘            │
│  │ ...         │                                      │
│  └──────────────┘                                      │
│                                                         │
│  ─────────────────────────────────────────────────────  │
│                                                         │
│  📋 최근 완등 기록                                      │
│                                                         │
│  ┌───────┬────────────┬────────────┬────────────┐     │
│  │ 산    │ 날짜       │ 코스       │ 인증       │     │
│  ├───────┼────────────┼────────────┼────────────┤     │
│  │ 팔공산│ 2024.01.15 │ 갓바위코스 │ ✅ 블랙야크 │     │
│  │ 비슬산│ 2024.01.08 │ 대견봉코스 │ ✅ 블랙야크 │     │
│  │ 가야산│ 2023.12.24 │ 백운동코스 │ ✅ 블랙야크 │     │
│  └───────┴────────────┴────────────┴────────────┘     │
│                                                         │
│  [+ 새 기록 추가]                                       │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 6. 개발 일정

### 6.1 Phase 1: MVP (4주)

| 주차 | 작업 내용 |
|------|----------|
| Week 1 | 프로젝트 셋업, Supabase 설정, DB 스키마 생성 |
| Week 2 | 데이터 수집 (100대 명산 기본 정보), Frontend 기본 구조 |
| Week 3 | 산 목록/상세 페이지, 등산로 정보 입력 |
| Week 4 | GPX 다운로드, 반응형 UI, 테스트 및 배포 |

### 6.2 Phase 2: 개인화 (3주)

| 주차 | 작업 내용 |
|------|----------|
| Week 5 | Supabase Auth 연동, 회원가입/로그인 |
| Week 6 | 완등 기록 CRUD, 사진 업로드 |
| Week 7 | 진행률 대시보드, 통계 |

### 6.3 Phase 3-4: 부가 기능 (4주+)

- 날씨 API 연동
- 지도 시각화
- 커뮤니티 기능

---

## 7. 데이터 수집 계획

### 7.1 자동 수집 (스크립트)

| 데이터 | 소스 | 스크립트 | 주기 |
|--------|------|----------|------|
| 100대 명산 리스트 | 블랙야크 공식 | `crawl_blackyak_100.py` | 1회 |
| 산 기본 정보 | 산림청 API | `fetch_public_data_api.py` | 1회 |
| 국립공원 정보 | 국립공원공단 | `fetch_public_data_api.py` | 1회 |

### 7.2 수동 입력/보강

| 데이터 | 소스 | 방법 |
|--------|------|------|
| 등산로 상세 | 네이버/블로그 | 수동 조사 후 DB 입력 |
| GPX 파일 | 램블러/트랭글 | 직접 등산 또는 기존 파일 수집 |
| 주차장 정보 | 네이버 지도 | 수동 조사 |
| 추천 장소 | 등산 경험 | 수동 입력 |

### 7.3 우선순위 (데이터 입력)

1. **1순위 (10개)**: 최근 등산한 산, 인기 산 (북한산, 설악산, 지리산 등)
2. **2순위 (40개)**: 국립공원 포함 산
3. **3순위 (50개)**: 나머지 산

---

## 8. 예상 비용

### 8.1 인프라 비용 (MVP 기준)

| 서비스 | 플랜 | 월 비용 |
|--------|------|---------|
| Supabase | Free Tier | $0 |
| Vercel | Hobby | $0 |
| Cloudinary | Free Tier | $0 |
| 도메인 (선택) | .com | ~$12/년 |

**총 예상 비용: $0 ~ $1/월** (도메인 제외)

### 8.2 확장 시 비용

- Supabase Pro: $25/월 (500MB → 8GB)
- Vercel Pro: $20/월 (상업적 사용 시)

---

## 9. 리스크 및 대응

| 리스크 | 영향 | 대응 방안 |
|--------|------|-----------|
| 데이터 수집 부담 | 높음 | 우선순위 산부터 점진적 입력, UGC 활용 |
| 크롤링 법적 이슈 | 중간 | 공공 API 우선, 출처 명시 |
| 사용자 유입 부족 | 중간 | 등산 커뮤니티(네이버 카페) 홍보 |
| 데이터 신선도 | 중간 | 사용자 제보 시스템 구축 |

---

## 10. 다음 단계

1. [ ] Supabase 프로젝트 생성
2. [ ] DB 스키마 적용 (SQL 실행)
3. [ ] 크롤링 스크립트 실행 (100대 명산 데이터 수집)
4. [ ] Frontend 프로젝트 초기화 (Vite + React)
5. [ ] 산 목록 페이지 개발
